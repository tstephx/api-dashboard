import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as y}from"./iframe-p7AkYan8.js";import"./preload-helper-PPVm8Dsz.js";const t={bgBase:"#f4f5f7",bgSurface:"#ffffff",bgElevated:"#f8f9fb",bgHover:"#f0f1f5",border:"#e2e5ec",borderSubtle:"#eceef3",textPrimary:"#111827",textSecondary:"#4b5563",textMuted:"#9ca3af",textCode:"#4f46e5",accent:"#4f46e5",accentLight:"#eef2ff",accentMid:"#c7d2fe",success:"#059669",successDim:"#d1fae5",warning:"#d97706",warningDim:"#fef3c7",danger:"#dc2626",dangerDim:"#fee2e2",shadowSm:"0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04)",radiusSm:"6px",radiusMd:"10px"};function B(r,x){const[d,u]=y.useState(null),[i,l]=y.useState(!0),[f,p]=y.useState(null);return y.useEffect(()=>{let g=!1;l(!0),p(null);const a=`${r}?window=${encodeURIComponent(x)}`;return fetch(a).then(c=>{if(!c.ok)throw new Error(`HTTP ${c.status}`);return c.json()}).then(c=>{g||u(c)}).catch(c=>{g||p(c.message)}).finally(()=>{g||l(!1)}),()=>{g=!0}},[r,x]),{data:d,loading:i,error:f}}function D({method:r}){const x={GET:{background:"#d1fae5",color:"#065f46"},POST:{background:t.accentLight,color:t.accent},DELETE:{background:t.dangerDim,color:t.danger}};return e.jsx("span",{style:{...x[r],display:"inline-flex",alignItems:"center",padding:"2px 7px",borderRadius:"4px",fontFamily:"'JetBrains Mono', monospace",fontSize:"10px",fontWeight:600,marginRight:"8px"},children:r})}function W({rate:r,level:x}){const d={ok:{color:t.success,background:t.successDim},warn:{color:t.warning,background:t.warningDim},bad:{color:t.danger,background:t.dangerDim}};return e.jsx("span",{style:{...d[x],fontFamily:"'JetBrains Mono', monospace",fontSize:"11px",fontWeight:600,padding:"2px 6px",borderRadius:"4px"},children:r})}function I({status:r}){const x=r==="ok"?t.success:t.warning,d=r==="ok"?t.successDim:t.warningDim;return e.jsx("span",{style:{display:"inline-block",width:"8px",height:"8px",borderRadius:"50%",background:x,boxShadow:`0 0 0 3px ${d}`,flexShrink:0}})}function R({points:r}){if(!r||r.length<2)return e.jsx("svg",{width:"100%",height:160,viewBox:"0 0 560 160"});const d=`${y.useId().replace(/:/g,"")}-area`,u=560,i=160,l=20,f=20,p=10,g=u-l,a=i-f-p,c=Math.max(...r.map(o=>Math.max(o.success,o.error)),1)*1.1,n=o=>l+o/(r.length-1)*g,s=o=>p+(1-o/c)*a,v=r.map((o,h)=>`${n(h)},${s(o.success)}`).join(" "),k=r.map((o,h)=>`${n(h)},${s(o.error)}`).join(" "),w=`M${n(0)},${s(r[0].success)} `+r.slice(1).map((o,h)=>`L${n(h+1)},${s(o.success)}`).join(" ")+` L${n(r.length-1)},${p+a} L${l},${p+a} Z`,M=[0,.33,.67,1],z=[0,.33,.67,1].map(o=>{const h=Math.round(o*c);return h>=1e3?`${Math.round(h/1e3)}k`:`${h}`}),$=r.reduce((o,h,m)=>((m===0||m===r.length-1||m%Math.floor(r.length/5)===0)&&o.push(m),o),[]);return e.jsxs("svg",{width:"100%",viewBox:`0 0 ${u} ${i}`,style:{fontFamily:"'JetBrains Mono', monospace"},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:d,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:t.accent,stopOpacity:"0.12"}),e.jsx("stop",{offset:"100%",stopColor:t.accent,stopOpacity:"0"})]})}),M.map((o,h)=>{const m=p+(1-o)*a;return e.jsxs("g",{children:[e.jsx("line",{x1:l,y1:m,x2:u,y2:m,stroke:t.border,strokeWidth:"1"}),e.jsx("text",{x:0,y:m+3,fill:t.textMuted,fontSize:"9",children:z[h]})]},h)}),e.jsx("path",{d:w,fill:`url(#${d})`}),e.jsx("polyline",{points:v,fill:"none",stroke:t.accent,strokeWidth:"2",strokeLinejoin:"round",strokeLinecap:"round"}),e.jsx("polyline",{points:k,fill:"none",stroke:t.danger,strokeWidth:"1.5",strokeLinejoin:"round",strokeLinecap:"round",strokeDasharray:"3,2"}),$.map(o=>e.jsx("text",{x:n(o),y:i,fill:t.textMuted,fontSize:"9",textAnchor:"middle",children:r[o].hour},o)),e.jsx("line",{x1:n(r.length-1),y1:p,x2:n(r.length-1),y2:p+a,stroke:t.accent,strokeWidth:"1",strokeDasharray:"3,2",opacity:"0.4"}),e.jsx("circle",{cx:n(r.length-1),cy:s(r[r.length-1].success),r:"4",fill:"white",stroke:t.accent,strokeWidth:"2"})]})}function L({slices:r}){const i=2*Math.PI*46;let l=0;return e.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",children:[e.jsx("circle",{cx:60,cy:60,r:46,fill:"none",stroke:"#f3f4f6",strokeWidth:"14"}),r.map((f,p)=>{const g=f.pct/100*i,a=i-g,c=e.jsx("circle",{cx:60,cy:60,r:46,fill:"none",stroke:f.color,strokeWidth:"14",strokeDasharray:`${g} ${a}`,strokeDashoffset:-l,transform:"rotate(-90 60 60)"},p);return l+=g,c}),e.jsxs("text",{x:60,y:55,textAnchor:"middle",fill:t.textPrimary,fontSize:"16",fontWeight:"600",fontFamily:"'JetBrains Mono', monospace",children:[r[0]?.pct.toFixed(1),"%"]}),e.jsx("text",{x:60,y:68,textAnchor:"middle",fill:t.textMuted,fontSize:"8",fontFamily:"'JetBrains Mono', monospace",children:"success"})]})}function b({w:r,h:x}){return e.jsx("span",{style:{display:"inline-block",width:r,height:x,background:`linear-gradient(90deg, ${t.bgElevated} 25%, ${t.bgHover} 50%, ${t.bgElevated} 75%)`,backgroundSize:"200% 100%",borderRadius:t.radiusSm,animation:"shimmer 1.4s infinite"}})}function S({apiUrl:r,title:x="API Overview"}){const[d,u]=y.useState("24h"),{data:i,loading:l,error:f}=B(r,d),[p,g]=y.useState(!1);y.useEffect(()=>{g(!1)},[d]);const a={background:t.bgSurface,border:`1px solid ${t.border}`,borderRadius:t.radiusMd,padding:"20px",boxShadow:t.shadowSm},c={fontFamily:"'JetBrains Mono', monospace",fontSize:"12px",color:t.textSecondary,textAlign:"right"};return e.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:t.bgBase,fontFamily:"'Inter', sans-serif",color:t.textPrimary},children:[e.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');
        @keyframes shimmer { to { background-position: -200% 0; } }
      `}),e.jsxs("nav",{style:{width:"224px",flexShrink:0,background:t.bgSurface,borderRight:`1px solid ${t.border}`,display:"flex",flexDirection:"column",padding:"20px 0",position:"sticky",top:0,height:"100vh",boxShadow:t.shadowSm},children:[e.jsxs("div",{style:{padding:"0 20px 20px",display:"flex",alignItems:"center",gap:"10px",borderBottom:`1px solid ${t.borderSubtle}`,marginBottom:"16px"},children:[e.jsx("div",{style:{width:30,height:30,background:t.accent,borderRadius:t.radiusSm,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"15px",boxShadow:"0 2px 8px rgba(79,70,229,0.18)",color:"white"},children:"⬡"}),e.jsx("span",{style:{fontSize:"14px",fontWeight:600,letterSpacing:"-0.01em"},children:"Nexus API"}),e.jsx("span",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:"9px",background:t.accentLight,color:t.accent,padding:"2px 6px",borderRadius:"4px",marginLeft:"auto",border:`1px solid ${t.accentMid}`,fontWeight:500},children:"v2"})]}),[{label:"Monitor",items:[{icon:"▣",label:"Overview",active:!0},{icon:"⌁",label:"Requests"},{icon:"⚡",label:"Logs",badge:"3"},{icon:"◎",label:"Alerts"}]},{label:"Manage",items:[{icon:"⊞",label:"Endpoints"},{icon:"◈",label:"API Keys"},{icon:"⬡",label:"Webhooks"},{icon:"⊙",label:"Rate Limits"}]},{label:"Account",items:[{icon:"⊕",label:"Settings"},{icon:"⊘",label:"Billing"}]}].map(n=>e.jsxs("div",{style:{padding:"0 10px",marginBottom:"4px"},children:[e.jsx("div",{style:{fontSize:"10px",fontWeight:600,color:t.textMuted,textTransform:"uppercase",letterSpacing:"0.08em",padding:"8px 10px 6px"},children:n.label}),n.items.map(s=>e.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"10px",padding:"7px 10px",borderRadius:t.radiusSm,fontSize:"13px",textDecoration:"none",marginBottom:"1px",..."active"in s&&s.active?{background:t.accentLight,color:t.accent,fontWeight:600}:{color:t.textSecondary,fontWeight:450}},children:[e.jsx("span",{style:{width:"16px",textAlign:"center",fontSize:"13px"},children:s.icon}),s.label,"badge"in s&&s.badge&&e.jsx("span",{style:{marginLeft:"auto",fontFamily:"'JetBrains Mono', monospace",fontSize:"10px",background:t.dangerDim,color:t.danger,padding:"1px 6px",borderRadius:"10px",fontWeight:500},children:s.badge})]},s.label))]},n.label)),e.jsx("div",{style:{marginTop:"auto",padding:"16px 10px",borderTop:`1px solid ${t.borderSubtle}`},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px 10px",background:t.bgElevated,border:`1px solid ${t.border}`,borderRadius:t.radiusSm,cursor:"pointer"},children:[e.jsx("div",{style:{width:24,height:24,borderRadius:"50%",background:"linear-gradient(135deg, #4f46e5, #7c3aed)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"9px",fontWeight:700,color:"white",flexShrink:0},children:"TS"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:600},children:"Taylor's Workspace"}),e.jsx("div",{style:{fontSize:"10px",color:t.textMuted,marginTop:"1px"},children:"Pro · 2.1M / 5M req"})]}),e.jsx("span",{style:{marginLeft:"auto",color:t.textMuted,fontSize:"10px"},children:"⌃"})]})})]}),e.jsxs("main",{style:{flex:1,overflowY:"auto",padding:"32px 40px",maxWidth:"1100px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"28px"},children:[e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"22px",fontWeight:700,letterSpacing:"-0.03em"},children:x}),e.jsxs("p",{style:{fontSize:"13px",color:t.textMuted,marginTop:"3px"},children:[new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})," · All environments"]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("div",{style:{display:"flex",background:t.bgSurface,border:`1px solid ${t.border}`,borderRadius:t.radiusSm,overflow:"hidden",boxShadow:t.shadowSm},children:["1h","6h","24h","7d","30d"].map(n=>e.jsx("button",{onClick:()=>u(n),style:{padding:"7px 12px",cursor:"pointer",border:"none",borderRight:`1px solid ${t.borderSubtle}`,fontFamily:"'JetBrains Mono', monospace",fontSize:"11px",...d===n?{background:t.accentLight,color:t.accent,fontWeight:600}:{background:"transparent",color:t.textSecondary}},children:n},n))}),e.jsx("button",{style:{padding:"7px 14px",borderRadius:t.radiusSm,fontSize:"13px",fontWeight:500,cursor:"pointer",background:t.bgSurface,color:t.textSecondary,border:`1px solid ${t.border}`,boxShadow:t.shadowSm,fontFamily:"'Inter', sans-serif"},children:"⇩ Export"}),e.jsx("button",{style:{padding:"7px 14px",borderRadius:t.radiusSm,fontSize:"13px",fontWeight:500,cursor:"pointer",background:t.accent,color:"#fff",border:"none",boxShadow:"0 2px 8px rgba(79,70,229,0.18)",fontFamily:"'Inter', sans-serif"},children:"+ New Key"})]})]}),f&&e.jsxs("div",{style:{...a,borderLeft:`3px solid ${t.danger}`,background:t.dangerDim,marginBottom:"20px",display:"flex",gap:"10px",alignItems:"center"},children:[e.jsx("span",{children:"⚠"}),e.jsxs("span",{style:{fontSize:"13px"},children:["Failed to load dashboard: ",e.jsx("strong",{children:f})]})]}),!p&&i?.alert&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",background:t.warningDim,border:"1px solid #fcd34d",borderLeft:`3px solid ${t.warning}`,borderRadius:t.radiusSm,padding:"10px 14px",marginBottom:"20px",fontSize:"12px"},children:[e.jsx("span",{children:"⚠"}),e.jsx("span",{children:i.alert}),e.jsx("button",{onClick:()=>g(!0),style:{marginLeft:"auto",background:"none",border:"none",color:t.textMuted,cursor:"pointer",fontSize:"16px",lineHeight:1},children:"×"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"20px"},children:l?Array.from({length:4}).map((n,s)=>e.jsx("div",{style:{...a,height:"110px"},children:e.jsx(b,{w:"60%",h:10})},s)):i?.stats.map(n=>e.jsxs("div",{style:a,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"11px",fontWeight:600,color:t.textMuted,textTransform:"uppercase",letterSpacing:"0.06em"},children:n.label}),e.jsx("div",{style:{width:30,height:30,borderRadius:t.radiusSm,display:"flex",alignItems:"center",justifyContent:"center",background:n.iconBg,color:n.iconColor,fontSize:"13px"},children:n.icon})]}),e.jsx("div",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:"28px",fontWeight:500,letterSpacing:"-0.03em",lineHeight:1,marginBottom:"8px"},children:n.value}),e.jsx("span",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:"11px",fontWeight:600,padding:"2px 6px",borderRadius:"4px",...n.deltaDirection==="neutral"?{background:"#f3f4f6",color:t.textMuted}:n.deltaPositive?{background:t.successDim,color:t.success}:{background:t.dangerDim,color:t.danger}},children:n.delta}),e.jsx("span",{style:{fontSize:"11px",color:t.textMuted,marginLeft:"4px"},children:n.sub})]},n.label))}),e.jsx("div",{style:{display:"flex",gap:"12px",marginBottom:"20px"},children:l?Array.from({length:4}).map((n,s)=>e.jsx("div",{style:{flex:1,...a,height:"62px"},children:e.jsx(b,{w:"80%",h:10})},s)):i?.services.map(n=>e.jsxs("div",{style:{flex:1,...a,display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(I,{status:n.status}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:600},children:n.name}),e.jsx("div",{style:{color:t.textMuted,fontSize:"11px"},children:n.detail})]}),e.jsx("span",{style:{marginLeft:"auto",fontFamily:"'JetBrains Mono', monospace",fontSize:"12px",fontWeight:600,padding:"3px 8px",borderRadius:"5px",...n.status==="ok"?{color:t.success,background:t.successDim}:{color:t.warning,background:t.warningDim}},children:n.uptime})]},n.name))}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"16px",marginBottom:"20px"},children:[e.jsxs("div",{style:a,children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:600},children:"Request Volume"}),e.jsxs("div",{style:{fontSize:"11px",color:t.textMuted,marginTop:"2px"},children:["Requests per hour · last ",d]})]}),e.jsx("div",{style:{display:"flex",gap:"16px"},children:[{color:t.accent,label:"2xx"},{color:t.danger,label:"4xx/5xx"}].map(n=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"11px",color:t.textSecondary,fontFamily:"'JetBrains Mono', monospace"},children:[e.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:n.color}}),n.label]},n.label))})]}),l?e.jsx(b,{w:"100%",h:160}):i?.chartPoints&&i.chartPoints.length>=2?e.jsx(R,{points:i.chartPoints}):e.jsx("div",{style:{height:160,display:"flex",alignItems:"center",justifyContent:"center",color:t.textMuted,fontSize:12},children:"No data available"})]}),e.jsxs("div",{style:a,children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:600},children:"Status Codes"}),e.jsxs("div",{style:{fontSize:"11px",color:t.textMuted,marginTop:"2px"},children:["Last ",d," distribution"]})]}),l?e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(b,{w:120,h:120})}):i?.statusCodeBreakdown&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[e.jsx(L,{slices:i.statusCodeBreakdown}),e.jsx("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:"10px"},children:i.statusCodeBreakdown.map(n=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px"},children:[e.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:n.color,flexShrink:0}}),e.jsx("span",{style:{color:t.textSecondary,minWidth:"28px",fontFamily:"'JetBrains Mono', monospace",fontSize:"11px"},children:n.label}),e.jsx("div",{style:{flex:1,height:"4px",background:t.bgElevated,border:`1px solid ${t.borderSubtle}`,borderRadius:"2px",overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",width:`${n.pct}%`,background:n.color,borderRadius:"2px"}})}),e.jsxs("span",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:"11px",color:t.textMuted,minWidth:"36px",textAlign:"right"},children:[n.pct.toFixed(1),"%"]})]},n.label))})]})]})]}),e.jsxs("div",{style:a,children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:600},children:"Top Endpoints"}),e.jsxs("div",{style:{fontSize:"11px",color:t.textMuted,marginTop:"2px"},children:["By request volume · last ",d]})]}),e.jsx("button",{style:{padding:"7px 12px",background:t.bgSurface,border:`1px solid ${t.border}`,borderRadius:t.radiusSm,fontSize:"11px",color:t.textSecondary,cursor:"pointer",boxShadow:t.shadowSm,fontFamily:"'Inter', sans-serif"},children:"View all →"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 90px 90px 90px",gap:"16px",alignItems:"center",padding:"0 12px 8px",borderBottom:`1px solid ${t.border}`,fontSize:"10px",fontWeight:600,color:t.textMuted,textTransform:"uppercase",letterSpacing:"0.06em"},children:[e.jsx("span",{children:"Endpoint"}),e.jsx("span",{style:{textAlign:"right"},children:"Requests"}),e.jsx("span",{style:{textAlign:"right"},children:"P50"}),e.jsx("span",{style:{textAlign:"right"},children:"P95"}),e.jsx("span",{style:{textAlign:"right"},children:"Error %"})]}),l?Array.from({length:5}).map((n,s)=>e.jsx("div",{style:{padding:"12px"},children:e.jsx(b,{w:"70%",h:10})},s)):i?.endpoints.map(n=>e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 90px 90px 90px",gap:"16px",alignItems:"center",padding:"10px 12px",borderRadius:t.radiusSm},children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx(D,{method:n.method}),e.jsx("span",{style:{fontFamily:"'JetBrains Mono', monospace",fontSize:"12px",color:t.textCode,fontWeight:500},children:n.path})]}),e.jsx("div",{style:{fontSize:"11px",color:t.textMuted,marginTop:"2px"},children:n.name})]}),e.jsx("div",{style:c,children:n.requests}),e.jsx("div",{style:c,children:n.p50}),e.jsx("div",{style:c,children:n.p95}),e.jsx("div",{style:{textAlign:"right"},children:e.jsx(W,{rate:n.errorRate,level:n.errorLevel})})]},`${n.method}-${n.path}`))]})]})]})}S.__docgenInfo={description:"",methods:[],displayName:"ApiDashboard",props:{apiUrl:{required:!0,tsType:{name:"string"},description:"URL returning DashboardData JSON"},title:{required:!1,tsType:{name:"string"},description:"Page header title",defaultValue:{value:'"API Overview"',computed:!1}}}};const F={title:"Components/ApiDashboard",component:S,parameters:{layout:"fullscreen"},argTypes:{apiUrl:{control:"text",description:"URL of your API dashboard endpoint"},title:{control:"text",description:"Dashboard heading"}}},j={args:{apiUrl:"https://your-api.example.com/dashboard",title:"API Overview"}};j.parameters={...j.parameters,docs:{...j.parameters?.docs,source:{originalSource:`{
  args: {
    apiUrl: "https://your-api.example.com/dashboard",
    title: "API Overview"
  }
}`,...j.parameters?.docs?.source}}};const P=["Default"];export{j as Default,P as __namedExportsOrder,F as default};
